# IO

* Linux网络&I/O	

>Linux将所欲的外部设备看作文件，对一个文件的读写操作会调用内核提供的系统命令，返回一个文件描述符（fd），对于一个socket的读写也会有响应的描述符，socketfd，描述符就是一个数字，他执行内核中的一个结构体。


* 5中I/O模型
  1. 阻塞模型，默认情况下所有的文件操作都是阻塞的。
  2. 非阻塞模型，一直轮训检查缓冲区的数据是否就绪。
  3. 多路复用模型，select/poll函数，系统的调用阻塞在select上。
  4. 信号模型，开启套接字信号驱动IO功能，数据准备好通过信号回调通知。
  5. 异步模型，告知内核启动某个操作，完成既有的任务。
   
* Java里面的I/O多路复用
> 多个I/O的阻塞服用到一个select上，是的系统在单线程的情况下也可以同时处理多个客户端的请求。与我们使用多线程相比，I/O多路复用开销更小
   * 使用场景
      1. Server需要同时处理多个客户端的监听/连接状态的套接字
      2. Server需要同时处理多种网络协议套接字
   * I/O多路复用技术
     * Linux上支持I/O多路复用系统调用有select、pselect、poll、epoll
     * select单个进程打开问价数量为1024，对于连接数很多的需求捉襟见肘。
     * select/poll会全扫描socket集合，对于集合内有很多活跃性不高的socket场景是种浪费。
     * epoll连接数上显示操作系统的最大文件句柄数，对于很大的socket集合它只会扫描操作活跃的socket

     
     